
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
(function(a){var c=a.fn.jquery,b=a.ui.version;a.checkVersion={_isValidVersion:function(d,e,f){var a,b,c;if(f){b=d.split(".");c=e.split(".");for(a=0;a<b.length;a++)if(b[a]>c[a])return true;else if(b[a]<c[a])return false;return true}else return d===e},jquery:function(a,d){var b=this._isValidVersion(a,c,d);Sys.Debug.assert(b,String.format("Invalid jquery version; expected: {0}, actual: {1}",a,c));return b},jqueryUI:function(a,d){var c=this._isValidVersion(a,b,d);Sys.Debug.assert(c,String.format("Invalid jquery UI version; expected: {0}, actual: {1}",a,b));return c}}})(jQuery);(function(a){a.browser.msie&&a.browser.version<9&&a.extend({isPlainObject:function(b){var c=Object.prototype.hasOwnProperty,d;if(!b||a.type(b)!=="object"||b.nodeType||a.isWindow(b))return false;if(b.constructor&&!c.call(b,"constructor")&&!c.call(b.constructor.prototype,"isPrototypeOf"))return false;for(d in b)if(!c.call(b,d))return false;return true}})})(jQuery);(function(a){if(a.checkVersion.jqueryUI("1.9.1",true)){var b=a.ui.autocomplete;a.widget("ui.autocomplete",a.extend({},a.ui.autocomplete.prototype,{_create:function(){var b=this,d=this.element[0].ownerDocument,c;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(d){if(b.options.disabled||b.element.attr("readonly"))return;c=false;var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:b._move("previousPage",d);break;case e.PAGE_DOWN:b._move("nextPage",d);break;case e.UP:b._move("previous",d);d.preventDefault();break;case e.DOWN:b._move("next",d);d.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:if(b.menu.active){c=true;d.preventDefault()}if(!b.menu.active)return;b.menu.select(d);break;case e.TAB:if(!b.menu.active)return;b.menu.select(d);break;case e.ESCAPE:b.close(d);break;default:window.clearTimeout(b.searching);b.searching=window.setTimeout(function(){if(b.term!==b.element.val()){b.selectedItem=null;b.search(null,d)}},b.options.delay)}}).bind("keypress.autocomplete",function(a){if(c){c=false;a.preventDefault()}}).bind("focus.autocomplete",function(){if(b.options.disabled)return;b.selectedItem=null;b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled)return;if(b.cancelBlur){delete b.cancelBlur;return}window.clearTimeout(b.searching);b.close(a);b._change(a)});this._initSource();this.response=function(){return b._response.apply(b,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",d)[0]).mousedown(function(d){d.preventDefault();if(a.browser.msie){b.cancelBlur=true;window.setTimeout(function(){delete b.cancelBlur},250)}var c=b.menu.element[0];!a(d.target).closest(".ui-menu-item").length&&window.setTimeout(function(){a(document).one("mousedown",function(d){d.target!==b.element[0]&&d.target!==c&&!a.ui.contains(c,d.target)&&b.close()})},1)}).menu({focus:function(a,d){var c=d.item.data("item.autocomplete");if(false!==b._trigger("focus",a,{item:c}))/^key/.test(a.originalEvent.type)&&b.element.val(c.value)},selected:function(e,f){var a=f.item.data("item.autocomplete"),c=b.previous;if(b.element[0]!==d.activeElement){b.element.focus();b.previous=c;window.setTimeout(function(){b.previous=c;b.selectedItem=a},1)}false!==b._trigger("select",e,{item:a});b.term=b.element.val();b.close(e);b.selectedItem=a},blur:function(){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()}}));a.extend(a.ui.autocomplete,b)}})(jQuery);if(Sys&&Sys._Application){var regexPlus=/\+/g;if(Sys.Browser.agent===Sys.Browser.InternetExplorer&&Sys.Browser.documentMode<8)Sys._Application.prototype._ensureHistory=function(){if(!this._historyInitialized&&this._enableHistory){this._timerHandler=Function.createDelegate(this,this._onIdle);this._timerCookie=window.setTimeout(this._timerHandler,100);try{this._initialState=this._deserializeState(this.get_stateString())}catch(a){}this._historyInitialized=true}};Sys._Application.prototype._serializeState=function(a){var b;if(a.__s){a=$.extend({},a);b=a.__s;delete a.__s}return $.param(a)+(b?"&&"+b:"")};Sys._Application.prototype._deserializeState=function(a){var c,b,g,f,j,e,d,i,h;c={};a=a||"";b=a.indexOf("&&");if(b!==-1&&b+2<a.length){c.__s=a.substr(b+2);a=a.substr(0,b)}g=a.split("&");for(f=0,j=g.length;f<j;f++){e=g[f];d=e.indexOf("=");if(d!==-1&&d+1<=e.length){i=e.substr(0,d);h=e.substr(d+1).replace(regexPlus,"%20");try{c[i]=decodeURIComponent(h)}catch(k){c[i]=h}}}return c}};
