@using TradeRiser.UI
@using TradeRiser.UI.Controls
@using TradeRiser.UI.Models
@{
    Layout = null;
    string hiddenClass = string.IsNullOrWhiteSpace(this.ViewBag.LogonMessage) ? "hidden" : string.Empty;
    //string hiddenClass = "hidden";
    //if (this.ViewBag.LogonMessage != null)
    //{
    //    hiddenClass = string.Empty;
    //}
}

@model SaveUserModel
<!DOCTYPE html>
<html>
<head>
    <title>TradeRiser - Beta</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/x-icon" href="@Url.Content("~/images/favicon.ico")"/>
    @Styles.Render("~/Content/v2/css")
    @*<link href="~/Content/Styles/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/Styles/logon.css" rel="stylesheet"/>
    <link href="~/Content/Styles/form.css" rel="stylesheet"/>*@
    <link href="~/Content/Styles/formV2.css" rel="stylesheet" />
    <script src="~/Content/Scripts/jquery.js" type="text/javascript"></script>
    <script type="text/javascript">
        var CULTURE = "@this.ViewBag.CurrentCulture";
        var COREROOT = "@Url.Action("", "", new { area = "" })";
        var APPLICATIONPATH = COREROOT.replace(/\/core/gi, "");
        if (APPLICATIONPATH === "") {
            APPLICATIONPATH = "/";
        } else if (APPLICATIONPATH[APPLICATIONPATH.length - 1] !== "/") {
            APPLICATIONPATH += "/";
        }

        var USERID = '0000-0000-0000-0000-0000';
        $(function () {
            logon.load();
        });
    </script>

</head>

<body class="login">
    <div>
        <div class="login_wrapper">
            <div class="animate form login_form col-md-12 col-sm-12 col-xs-12">
                <section class="login_content_0" style="margin: 0 auto; position: relative; text-align: center; text-shadow: 0 1px 0 #fff; min-width: 280px;">
                    <div>
                        <img alt="TradeRiser" src="../../../Images/TradeRiser_Web1.png"/>
                    </div>
                </section>
                <br/>
                <br/>
                <section id="signin-section">
                    <form id="logon-form" data-parsley-validate="" class="form-horizontal form-label-left" method="post">
                        <h2>Log in to TradeRiser</h2>
                        <div class="item form-group">
                            <div>
                                <input required="required" name="username" id="username" placeholder="Username" type="text" value="@this.ViewBag.Username" class="form-control col-md-7 col-xs-12" autocomplete="off" data-parsley-required-message="Please specify a value"/>
                            </div>
                        </div>
                        <div class="item form-group">
                            <div>
                                <input required="required" name="password" id="password" placeholder="Password" type="password" value="@this.ViewBag.Password" class="form-control" autocomplete="off" data-parsley-required-message="Please specify a value"/>
                            </div>
                        </div>
                        <div class="item form-group">
                            <div>
                                <input name="timezone" id="timezone" type="hidden" class="form-control"/>
                            </div>
                        </div>
                        <div class="login_content_0" style="margin: 0 auto; position: relative; text-align: center; text-shadow: 0 1px 0 #fff; min-width: 280px;">
                            <div class="item form-group">
                                <div>
                                    <input name="logon" id="logon" type="button" value="@TradeRiserUIResource.SignIn" class="btn btn-default submit"/>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div id="remember-me-section">
                                <label for="remember-me">
                                    <input id="remember-me" name="remember-me" type="checkbox" @if (this.ViewBag.RememberMe != null && this.ViewBag.RememberMe)
                                                                                               {
                                                                                                   this.Html.ViewContext.Writer.Write("checked");
                                                                                               }/>@TradeRiserUIResource.RememberMe
                                </label>

                                <div>
                                    <a href="#" id="forgot-password">@TradeRiserUIResource.ForgotYourPassword</a>
                                </div>
                                <br/>
                                <div class="separator">
                                    <p class="change_link">
                                        Not a member?
                                        <a href="#" id="create-account">Create Account</a>
                                    </p>
                                    <div class="clearfix"></div>
                                    <br/>
                                    @*  <div class="navbar navbar-fixed-bottom">
                                    <div id="signin-footer">
                                        <div id="sign-in-footer-logo">
                                        </div>
                                        <div id="sign-in-footer-links">
                                            &copy; <a href="http://www.traderiser.com" title="traderiser.com" target="_blank">TradeRiser</a>
                                            |<span>@this.ViewBag.Version</span>|
                                           <a href="@this.ViewBag.LegalLink" target="_blank">@TradeRiserUIResource.Logon_Legal</a>|
                                        <a href="@this.ViewBag.PrivacyLink" target="_blank">@TradeRiserUIResource.Logon_Privacy</a>
                                        </div>
                                    </div>
                                </div>*@
                                </div>
                                <input name="url" type="hidden" value="@this.ViewBag.ReturnUrl"/>
                            </div>
                        </div>
                    </form>
                </section>
                <div id="member-section" style="display: none">
                    <section id="member-details" class="login_content_0 form-horizontal form-label-left">
                        <h2>Create Account</h2>
                        <div class="form-group">
                            <label class="control-label_0" for="first-name">@TradeRiserUIResource.Membership_FirstName @Html.ValidationControl("first-name", true)</label>
                            <div>
                                <input type="text" id="first-name" name="first-name" maxlength="255" class="form-control" value="@Model.FirstName" @Html.ValidationAttributes(new ValidationAttributes() {Required = true})/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label_0" for="last-name">LastName @Html.ValidationControl("last-name", true)</label>
                            <div>
                                <input type="text" id="last-name" name="last-name" maxlength="255" class="form-control" value="@Model.LastName" @Html.ValidationAttributes(new ValidationAttributes() {Required = true})/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label_0" for="username">UserName @Html.ValidationControl("username", true)</label>
                            <div>
                                <input type="text" id="username" name="username" maxlength="255" class="form-control" @Html.ValidationAttributes(new ValidationAttributes() {Required = true})/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label_0" for="email">Email @Html.ValidationControl("email", true)</label>
                            <div>
                                <input type="text" id="email" name="email" maxlength="255" class="form-control" value="@Model.Email" @Html.ValidationAttributes(new ValidationAttributes() {Required = true})/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label_0" for="username">
                                Broker @Html.ValidationControl("broker-id", true)
                            </label>
                            <div>
                                <input id="broker-id" name="broker-id" type="text" class="form-control" value="@Model.Broker" @Html.ValidationAttributes(new ValidationAttributes() {Required = true})/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label_0" for="country">
                                Country @Html.ValidationControl("country", true)
                            </label>
                            <div>
                                <select id="country" class="form-control" name="country">
                                    @foreach (string country in @Model.Countries)
                                    {
                                        string key = string.Empty;
                                        if (this.Model.Country != null)
                                        {
                                            key = this.Model.Country.Trim();
                                        }
                                        <option value="@country" label="@country" @(country == key ? "selected='selected'" : string.Empty)>@country</option>
                                    }
                                </select>
                            </div>
                        </div>
                    </section>
                    <section class="login_content">
                        <div class="form-group">
                            <input name="register" id="register" type="button" class="btn btn-default submit" value="Register"/>
                        </div>
                        <div class="clearfix"></div>

                        <div class="separator">
                            <p class="change_link">
                                Already a member ?
                                <a href="#" id="log-in">Log in</a>
                            </p>
                            <div class="clearfix"></div>
                            <br/>
                        </div>
                    </section>
                </div>
            </div>
        </div>

        

       @* <div class="navbar navbar-fixed-bottom">
            <div id="signin-footer">
                <div id="sign-in-footer-logo">
                </div>
                <div id="sign-in-footer-links" style="position: fixed;height: 4rem;bottom: 0;left: 0;right: 0;padding: 0.5rem 1rem;line-height: 3rem;color: #8ea2bb;">
                    &copy; <a href="http://www.traderiser.com" title="traderiser.com" target="_blank">TradeRiser</a>
                    |<span>@this.ViewBag.Version</span>|
                    <a href="@this.ViewBag.LegalLink" target="_blank">@TradeRiserUIResource.Logon_Legal</a>|
                <a href="@this.ViewBag.PrivacyLink" target="_blank">@TradeRiserUIResource.Logon_Privacy</a>
                </div>
            </div>
        </div>*@
        <div class="navbar navbar-fixed-bottom">
            <div id="alert" class="alert alert-danger alert-dismissible fade in @hiddenClass" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true" class="closebutton-wrapper fa fa-fw fa-remove"></span>
                </button>
                <div class="alert-body">
                    <span class="message">@if (this.ViewBag.LogonMessage != null)
                                          {<text>@this.ViewBag.LogonMessage</text>}</span>
                </div>
            </div>
        </div>
        <div id="sign-in-footer-links" style="position: fixed;height: 4rem;bottom: 0;right: 0;padding: 0.5rem 1rem;line-height: 3rem;color: #8ea2bb;">
                &copy; <a href="http://www.traderiser.com" title="traderiser.com" target="_blank">TradeRiser</a>
                |<span>@this.ViewBag.Version</span>|
                <a href="@this.ViewBag.LegalLink" target="_blank">@TradeRiserUIResource.Logon_Legal</a>|
            <a href="@this.ViewBag.PrivacyLink" target="_blank">@TradeRiserUIResource.Logon_Privacy</a>
        </div>
    </div>

    <script src="~/Content/Scripts/corejsmvc.js" type="text/javascript"></script>
    <script src="~/Content/Scripts/jstz.js" type="text/javascript"></script>
    <script src="~/Content/Scripts/validation.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(function () {
            corejs.load();
            members.edit.load();
        });
    </script>

    <script src="~/Content/Scripts/logon.js" type="text/javascript"></script>
    <script src="~/Content/Scripts/members.js" type="text/javascript"></script>
    <script src="~/Content/v2/vendors/parsleyjs/dist/parsley.min.js" type="text/javascript"></script>
</body>
</html>
